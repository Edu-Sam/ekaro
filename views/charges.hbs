<div class="row">


<div class="col-md-12">

  <nav>
  <div class="nav nav-tabs" id="nav-tab" role="tablist">
    <a class="nav-item nav-link active" id="nav-students-tab" data-toggle="tab" href="#nav-students" role="tab" aria-controls="nav-students" aria-selected="true">Students</a>
    <a class="nav-item nav-link" id="nav-charges-tab" data-toggle="tab" href="#nav-charges" role="tab" aria-controls="nav-charges" aria-selected="false">Charges</a>
    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Fees</a>
  </div>
</nav>
<div class="tab-content" id="nav-tabContent">
  <div class="tab-pane fade show active" id="nav-students" role="tabpanel" aria-labelledby="nav-students-tab">
    <div class="card card-info">
    <div class="card-header">
        <h3 class="card-title">Charges</h3>

    </div>
    <!-- /.card-header -->
    <div class="card-body">
      <div class="row d-flex flex-row justify-content-between">
      <button type="button" class="btn btn-success btn-sm p-2 float-left" data-toggle="modal" data-target="#myModal">Create charge</button>
    <button type="button" class="btn btn-danger btn-sm p-2 float-right" data-dismiss="modal">Reverse transaction</button>
    </div>

      <!-- The Modal -->
    <div class="modal fade" id="myModal">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">

     <!-- Modal Header -->
     <div class="modal-header">
       <h4 class="modal-title">Student Charges</h4>
       <button type="button" class="close" data-dismiss="modal">&times;</button>

     </div>

     <!-- Modal body -->
     <div class="modal-body">
       <div class="col-md-12">
       <div class="card card-info">
       <div class="card-header">
       <h3 class="card-title">Add student charge</h3>
       </div>
       <!-- /.card-header -->
       <!-- form start -->
       <form role="form" action="/charges" method="POST">
       <div class="card-body">

         <div class="form-group">
         <label for="name">Student ID</label>
         <input type="text" class="form-control" id="groupName"  name="groupName">
         </div>

            <div class="form-group">
             <label for="name">Class</label>
             <select class="form-control" id="appliesToID" name="appliesToID">
                 {{#each appliedCharges}}
                 <option value="{{this.id}}">{{this.groupName}}</option>
                 {{/each}}
             </select>
           </div>

           <div class="form-group">
            <label for="name">Class</label>
            <select class="form-control" id="classID" name="classID">
                {{#each classType}}
                <option value="{{this.id}}">{{this.name}}</option>
                {{/each}}
            </select>
          </div>

           <div class="form-group">
              <label for="name">Amount</label>
              <input type="text" class="form-control" id="amount"  name="amount">
              </div>

              <div class="form-group">
                 <label for="name">description</label>
                 <input type="text" class="form-control" id="description"  name="description">
                 </div>
        <!--  <div class="form-group">
         <label for="name">Class</label>
        <!-- <select class="form-control" id="studentClassID" name="studentClassID">
             {{#each classTypes}}
             <option value="{{this.id}}">{{this.name}}</option>
             {{/each}}
         </select>
       </div>-->
      <!--    <div class="form-group">
         <label for="name">Fee Balance</label>
         <input type="text" class="form-control" id="feeBalance"  name="feeBalance">
         </div>
          <div class="form-group">
         <label for="name">Guardian Name</label>
         <input type="text" class="form-control" id="guardianName"  name="guardianName">
         </div>
          <div class="form-group">
         <label for="name">Guardian Phone</label>
         <input type="text" class="form-control" id="guardianPhone"  name="guardianPhone">
       </div>-->

       </div>
       <!-- /.card-body -->

       <div class="card-footer">
         <button type="submit" class="btn btn-primary float-right">Submit</button>
       </div>
       </form>
       </div>
       </div>

     </div>

     <!-- Modal footer -->
     <div class="modal-footer">
       <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
     </div>

    </div>
    </div>
    </div>

        <table id="c-data" class="table table-bordered table-hover">
        <thead>
        <tr>

            <th>Student Names</th>
            <th>Student ID</th>
            <th>Class</th>
            <th>Charge</th>
            <th>descrption</th>

            <th>Action</th>
        </tr>
        </thead>
        <tbody>

                {{#each charges}}

        <tr>

            <td> {{this.chargeName}} </td>
            <td> {{this.amount}} </td>
            <td> {{this.schoolID}} </td>
            <td> {{this.classID}} </td>
            <td> {{this.guardianName}} </td>
            <td> {{this.studentID}} </td>

            <td>
                 <a href="/students/edit/{{this.id}}"><button class="btn btn-info btn-xs"><i class="fa fa-edit mr-1" ></i>Edit</button> </a>
                 <a href="/students/delete/{{this.id}}"><button class="btn btn-danger btn-xs ml-3" onclick="return confirm('Are you sure you want to delete this record?')"><i class="fa fa-trash mr-1" ></i>Delete</button></a>
            </td>
        </tr>

        {{/each}}


        </tbody>
        </table>
    </div>
    <!-- /.card-body -->
    </div>
  </div>
  <div class="tab-pane fade" id="nav-charges" role="tabpanel" aria-labelledby="nav-charges-tab">
    <div class="col-md-9">
      <div class="d-flex flex-row justify-content-start">
        <button type="button" class="btn btn-success m-2 btn-sm float-left" data-toggle="modal" data-target="#myModal1"
         style="padding-bottom: 10px;">Add Charge</button>
        <div class="modal fade" id="myModal1">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">

         <!-- Modal Header -->
         <div class="modal-header">
           <h4 class="modal-title">Create Charge</h4>
           <button type="button" class="close" data-dismiss="modal">&times;</button>

         </div>

         <!-- Modal body -->
         <div class="modal-body">
           <div class="col-md-12">
           <div class="card card-info">
           <div class="card-header">
           <h3 class="card-title">Enter Charge Group</h3>
           </div>
           <!-- /.card-header -->
           <!-- form start -->
           <form role="form" action="/charges/addcharge" method="POST">
           <div class="card-body">

             <div class="form-group">
             <label for="name">Charge Group</label>
             <input type="text" class="form-control" id="groupName"  name="groupName">
             </div>
            <!--  <div class="form-group">
             <label for="name">Class</label>
            <!-- <select class="form-control" id="studentClassID" name="studentClassID">
                 {{#each classTypes}}
                 <option value="{{this.id}}">{{this.name}}</option>
                 {{/each}}
             </select>
           </div>-->
          <!--    <div class="form-group">
             <label for="name">Fee Balance</label>
             <input type="text" class="form-control" id="feeBalance"  name="feeBalance">
             </div>
              <div class="form-group">
             <label for="name">Guardian Name</label>
             <input type="text" class="form-control" id="guardianName"  name="guardianName">
             </div>
              <div class="form-group">
             <label for="name">Guardian Phone</label>
             <input type="text" class="form-control" id="guardianPhone"  name="guardianPhone">
           </div>-->

           </div>
           <!-- /.card-body -->

           <div class="card-footer">
             <button type="submit" class="btn btn-primary float-right">Submit</button>
           </div>
           </form>
           </div>
           </div>

         </div>

         <!-- Modal footer -->
         <div class="modal-footer">
           <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
         </div>

        </div>
        </div>
        </div>
      </div>
      <table id="c-data1" class="table table-bordered table-hover">
      <thead>
      <tr>

          <th class="w-10">ChargeId</th>
          <th class="w-90">Charge name</th>

      </tr>
      </thead>
      <tbody>

              {{#each appliedCharges}}

      <tr>

          <td> {{this.id}} </td>
          <td> {{this.groupName}} </td>


        <!--  <td>
               <a href="/students/edit/{{this.id}}"><button class="btn btn-info btn-xs"><i class="fa fa-edit mr-1" ></i>Edit</button> </a>
               <a href="/students/delete/{{this.id}}"><button class="btn btn-danger btn-xs ml-3" onclick="return confirm('Are you sure you want to delete this record?')"><i class="fa fa-trash mr-1" ></i>Delete</button></a>
          </td>-->
      </tr>

      {{/each}}


      </tbody>
      </table>
    </div>
  </div>
  <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">...</div>
</div>


<!-- /.card -->
</div>
</div>

<!-- Modal -->


<script>
$(document).ready( function () {
$('#c-data').DataTable({
    dom: 'Bfrtip',
buttons: [
        'copy', 'csv', 'excel',
        {
            extend: 'pdfHtml5',
            exportOptions: {
                columns: [ 0, 1 ]
            },
            title: 'charges'
        },
         'print'
    ]
});

$('#c-data1').DataTable({
    dom: 'Bfrtip',
buttons: [
        'copy', 'csv', 'excel',
        {
            extend: 'pdfHtml5',
            exportOptions: {
                columns: [ 0, 1 ]
            },
            title: 'charges'
        },
         'print'
    ]
});
} );
</script>

<!--<script>
$.ajax({
        type: "POST",
        url: "server.js",
        data: { mail: mail },
        success: function(data) {
        },
        error: function(jqXHR, textStatus, err) {
            alert('text status '+textStatus+', err '+err)
        }
    });
    </script>-->
